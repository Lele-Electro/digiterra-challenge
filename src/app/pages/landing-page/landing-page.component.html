<app-header-component></app-header-component>
<div class="page-padding">
    <div class="main-container">

<!-- TABLE NAV AND TABLE FOR LANDING AREA -->
    <div class="landing-area"  *ngIf="!checkIfFormPath()">
        <div class="table-nav">
            <h1>All Customers ({{latestCustomerCount}})</h1>
            <button mat-raised-button [routerLink]="['/customers/new/details']">Add Customer</button>
        </div>
        <div class="customers">
            <table *ngIf="dataSource.data.length > 0" mat-table [dataSource]="dataSource" matSort
                (matSortChange)="announceSortChange($event)" class="mat-elevation-z8">

                <!-- Name Column -->
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name">
                        Name
                    </th>
                    <td mat-cell *matCellDef="let customer"> {{customer.firstName}} </td>
                </ng-container>

                <!-- Surname Column -->
                <ng-container matColumnDef="surname">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Surname">
                        Surname
                    </th>
                    <td mat-cell *matCellDef="let customer"> {{customer.lastName}} </td>
                </ng-container>

                <!-- Cell Number Column -->
                <ng-container matColumnDef="cellNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Cell Number">
                        Cell Number
                    </th>
                    <td mat-cell *matCellDef="let customer"> {{customer.cellNumber}} </td>
                </ng-container>

                <!-- Action Column -->
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Action">
                        Action
                    </th>
                    <td mat-cell class="more-details-link" *matCellDef="let customer"
                        (click)="navigateToMoreDetailsPage(customer)"> Read Morez </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>

        </div>
    </div>

<!-- TABLE NAV AND TABLE FOR LANDING AREA -->
<div class="form-and-nav-buttons">
    <div class="form-container">
        <app-customer-details *ngIf="currentPath === '/customers/new/details' "
            [customerDetails]="newCustomer.customerDetails"></app-customer-details>
        <app-customer-address *ngIf="currentPath === '/customers/new/address' "
            [addresses]="newCustomer.customerAddress"></app-customer-address>
        <app-customer-comments *ngIf="currentPath === '/customers/new/comment' "
            [customerCommentRef]="newCustomer.customerComment"></app-customer-comments>
        <app-more-details *ngIf="customerIDPresent"></app-more-details>
    </div>

    <div class="button-options-container" *ngIf="checkIfFormPath()">
        <button (click)="formNavigateBackward()">Back</button>
        <button *ngIf="currentPath !== '/customers/new/comment' " (click)="formNavigateForward()">Next</button>
        <button *ngIf="currentPath === '/customers/new/comment' " (click)="addCustomer()">submit</button>
    </div>

</div>

    </div>
</div>